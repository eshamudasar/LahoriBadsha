{% extends "base.html" %}

{% block title %}Checkout Page{% endblock %}

{% block content %}
<div class="checkout">
    <h2>Checkout</h2>
    <div class="order-summary">
      <table id="cart-table">
        <tr>
          <th>Item</th>
          <th>Quantity</th>
          <th>Price</th>
        </tr>
        {% for item in cart_items.values() %}
        <tr>
          <td>{{ item.name }}</td>
          <td>x{{ item.quantity }}</td>
          <td>£{{ item.price }}</td>
        </tr>
        {% endfor %}
        <tr>
          <th>Subtotal</th>
          <td>£{{ subtotal }}</td>
        </tr>
        <tr>
          <th>Total</th>
          <td>£{{ total }}</td>
        </tr>
      </table>
    </div>
    <form id="checkout-form" class="checkout-form">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>
        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required><br><br>
        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" required><br><br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>
        <label for="payment_method">Payment Method:</label>
        <select id="payment_method" name="payment_method" required>
          <option value="cash">Cash</option>
          <option value="card">Card</option>
        </select><br><br>
        
        <!-- Card payment method fields -->
        <div id="card-payment-method" style="display: none;">
          <label for="card_number">Card Number:</label>
          <input type="text" id="card_number" name="card_number"><br><br>
          <label for="expiration_date">Expiration Date:</label>
          <input type="text" id="expiration_date" name="expiration_date"><br><br>
          <label for="security_code">Security Code:</label>
          <input type="text" id="security_code" name="security_code"><br><br>
        
        </div>
      </select><br><br>
      <input type="submit" value="Place Order" class="checkout-btn">
    </form>
    <div id="order-status" class="order-status">
      <!-- order status message will be displayed here -->
    </div>
  </div>
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}
